

include Make.source

OBJECTS = $(SOURCES:.cpp=.o)

CXX = @CXX@
CC = @CC@

ARCH = $(shell uname --machine)

ifeq (${ARCH},alpha)
AFLAGS = -mieee  -mcpu=ev56
endif


cxxflags = -g @CXXFLAGS@ $(AFLAGS) -I../ @INCLUDES@
#cxxflags += -Wall -pedantic -ansi -Dunix -D__linux__
cxxflags += -fno-builtin -O3 -funroll-loops -ffast-math
cxxflags += $(CXXFLAGS)


all: $(OBJECTS)


depend:
	$(CXX) -M $(cxxflags) $(SOURCES) > Make.depend


clean:
	-rm $(OBJECTS) *~

distclean:
	-rm Makefile.in Makefile Make.source Make.depend Make.depend.bak
	touch Make.depend
	if which dos2unix; then dos2unix *.cpp *.h; fi

%.o: %.cpp
	$(CXX) -c $(cxxflags) $*.cpp -o $*.o
